<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nota de Reconciliación</title>
    <style>
        /* Paleta en tonos verdes con gradientes y sombras */
        :root {
            --verde-fondo: #e0f7e9;
            --verde-boton: #42b883;
            --verde-oscuro: #074f39;
            --verde-resalte: #31a66a;
            --verde-gradiente-inicio: #b8f0d0;
            --verde-gradiente-fin: #e0f7e9;
            --sombra-tarjeta: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: linear-gradient(160deg, var(--verde-gradiente-inicio), var(--verde-gradiente-fin));
            color: var(--verde-oscuro);
            overflow-x: hidden;
        }

        header,
        main,
        footer {
            max-width: 900px;
            margin: 0 auto;
            padding: 10px;
        }

        header {
            text-align: center;
            margin-bottom: 20px;
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
        }

        p {
            line-height: 1.6;
        }

        /* Botones con transición y sombra */
        .btn {
            padding: 10px 20px;
            margin: 10px 0;
            cursor: pointer;
            border: none;
            background-color: var(--verde-boton);
            color: #fff;
            border-radius: 4px;
            box-shadow: var(--sombra-tarjeta);
            transition: background-color 0.3s, transform 0.3s;
        }

        .btn:hover {
            background-color: var(--verde-resalte);
            transform: translateY(-2px);
            animation: pulse 0.3s;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.02);
            }
            100% {
                transform: scale(1);
            }
        }

        /* Secciones con tarjetas */
        section {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: var(--sombra-tarjeta);
            margin-bottom: 20px;
            padding: 15px;
        }

        /* Secciones ocultas por defecto */
        .timeline,
        .images,
        .interactive {
            margin-top: 20px;
            display: none;
        }

        .timeline-item {
            padding: 10px;
            border-bottom: 1px solid #ccc;
        }

        /* Contenedor de imágenes */
        .images {
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }

        .images img {
            max-width: 200px;
            height: auto;
            cursor: pointer;
            border: 1px solid #ccc;
            border-radius: 6px;
            box-shadow: var(--sombra-tarjeta);
            transition: transform 0.3s;
        }

        .images img:hover {
            transform: scale(1.05);
        }

        /* Modal para ampliar imágenes */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: #fff;
            padding: 20px;
            max-width: 600px;
            width: 90%;
            position: relative;
            border-radius: 8px;
            box-shadow: var(--sombra-tarjeta);
        }

        .close {
            position: absolute;
            top: 10px;
            right: 20px;
            cursor: pointer;
            font-size: 1.2em;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .fadeIn {
            animation: fadeIn 1s ease-in-out;
        }

        /* Contenedor para la animación de elementos cayendo */
        #fallingItems {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 9999;
        }

        .falling-item {
            position: absolute;
            top: -100px;
            font-size: 2rem;
            animation: fall linear forwards;
        }

        @keyframes fall {
            to {
                transform: translateY(120vh);
            }
        }

        /* Sección del poema */
        #poemSection {
            background: linear-gradient(to right, #d3f7d8, #ffffff);
            border-radius: 8px;
            box-shadow: var(--sombra-tarjeta);
            padding: 20px;
            margin-bottom: 20px;
        }

        #poemSection h2 {
            text-align: center;
            margin-bottom: 15px;
        }

        #poemSection p {
            white-space: pre-wrap;
            font-style: italic;
        }

        /* Contenedor de mensajes interactivos */
        #interactiveContent {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        #messageDisplay {
            font-weight: bold;
        }

        #interactiveImage {
            max-width: 200px;
            border: 1px solid #ccc;
            border-radius: 6px;
            box-shadow: var(--sombra-tarjeta);
        }

        /* Fondo con gradiente y animación */
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: radial-gradient(circle at top right, rgba(255,255,255,0.4), transparent 40%);
            z-index: -1;
            animation: floatBg 10s infinite alternate;
        }

        @keyframes floatBg {
            0% {
                transform: translate(0, 0);
            }
            100% {
                transform: translate(-5%, 5%);
            }
        }
    </style>
</head>
<body>
    <div id="fallingItems"></div>

    <header>
        <h1>Nota de Reconciliación</h1>
    </header>

    <main>
        <section id="info">
            <p>
                Hola Dayan, te hice esto porque no hay segundo que pase sin extrañarte y me duele que estés molesta y no me hables.
                Sé que las palabras se las lleva el viento, por lo que esto constituye un compromiso de no mentir ni ocultar algo.
            </p>
            <button class="btn" id="btnTimeline">Mostrar Cronología de Errores</button>
            <div id="timeline" class="timeline">
                <div class="timeline-item">
                    <strong>Día 1:</strong> Inicio del problema. Se mintió en lugar de afrontar la situación.
                </div>
                <div class="timeline-item">
                    <strong>Día 2:</strong> Continuación de la mentira. Se reconoció el error.
                </div>
                <div class="timeline-item">
                    <strong>Día 3:</strong> Se constató el dolor de la indiferencia. Se procedió a buscar una acción para el perdón.
                </div>
                <div class="timeline-item">
                    <strong>Día Actual:</strong> Elaboración de esta página como solicitud de perdón y compromiso de mejora.
                </div>
            </div>
        </section>

        <section id="gallery">
            <button class="btn" id="btnImages">Mostrar Imágenes</button>
            <div id="imagesContainer" class="images">
                <img src="images/dayyo.jpg" alt="Imagen 1" data-full="images/dayyo.jpg">
                <img src="images/dayyyo2.jpg" alt="Imagen 2" data-full="images/dayyyo2.jpg">
                <img src="images/nu.jpg" alt="Imagen 3" data-full="images/nu.jpg">
                <img src="images/nuyyo1.jpg" alt="Imagen 4" data-full="images/nuyyo1.jpg">
            </div>
        </section>

        <section id="interaction">
            <button class="btn" id="btnInteractive">Mostrar Mensajes</button>
            <div id="interactiveContent" class="interactive">
                <p id="messageDisplay">Pulsa el botón para examinar los motivos.</p>
                <img id="interactiveImage" src="" alt="Imagen Interactiva">
                <button class="btn" id="btnNext">Siguiente</button>
            </div>
        </section>

        <section id="poemSection">
            <h2>TE AMO</h2>
            <p>
                Cada día que pasa te amo más,
                tú estás por encima de los demás,
                por ti me esfuerzo diariamente,
                para demostrarte mi amor sin rendirme.

                Tú eres el centro de mi vida,
                tu esencia me inspira,
                lograrás muchas hazañas,
                y conmigo las celebrarás.
            </p>
        </section>
    </main>

    <footer>
        <p>Contacto: perdonameporfavor@añuñin.com</p>
    </footer>

    <div id="modal" class="modal fadeIn">
        <div class="modal-content">
            <span id="closeModal" class="close">&times;</span>
            <img id="modalImg" src="" alt="" style="width: 100%; height: auto; border-radius: 8px;">
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var btnTimeline = document.getElementById("btnTimeline");
            var timeline = document.getElementById("timeline");
            var btnImages = document.getElementById("btnImages");
            var imagesContainer = document.getElementById("imagesContainer");
            var btnInteractive = document.getElementById("btnInteractive");
            var interactiveContent = document.getElementById("interactiveContent");
            var btnNext = document.getElementById("btnNext");
            var messageDisplay = document.getElementById("messageDisplay");
            var interactiveImage = document.getElementById("interactiveImage");
            var modal = document.getElementById("modal");
            var modalImg = document.getElementById("modalImg");
            var closeModal = document.getElementById("closeModal");
            var images = imagesContainer.getElementsByTagName("img");
            var fallingItemsContainer = document.getElementById("fallingItems");

            var interactiveData = [
                {
                    text: "Solicito tu cooperación para detener mi sensación de culpa.",
                    image: "images/dayyo.jpg"
                },
                {
                    text: "Sin tu perdón, carezco de tranquilidad.",
                    image: "images/dayyyo2.jpg"
                },
                {
                    text: "El error fue serio. El arrepentimiento es real.",
                    image: "images/nu.jpg"
                },
                {
                    text: "Valoro tu paciencia. Intentaré compensarte.",
                    image: "images/nuyyo1.jpg"
                }
            ];

            var currentIndex = 0;

            btnTimeline.addEventListener("click", function () {
                if (timeline.style.display === "none" || timeline.style.display === "") {
                    timeline.style.display = "block";
                    btnTimeline.textContent = "Ocultar Cronología de Errores";
                } else {
                    timeline.style.display = "none";
                    btnTimeline.textContent = "Mostrar Cronología de Errores";
                }
            });

            btnImages.addEventListener("click", function () {
                if (imagesContainer.style.display === "none" || imagesContainer.style.display === "") {
                    imagesContainer.style.display = "flex";
                    btnImages.textContent = "HAZ CLICK EN LAS IMÁGENES";
                } else {
                    imagesContainer.style.display = "none";
                    btnImages.textContent = "Mostrar Imágenes";
                }
            });

            btnInteractive.addEventListener("click", function () {
                if (interactiveContent.style.display === "none" || interactiveContent.style.display === "") {
                    interactiveContent.style.display = "block";
                    btnInteractive.textContent = "Ocultar Mensajes";
                } else {
                    interactiveContent.style.display = "none";
                    btnInteractive.textContent = "Mostrar Mensajes";
                }
            });

            btnNext.addEventListener("click", function () {
                currentIndex = (currentIndex + 1) % interactiveData.length;
                messageDisplay.textContent = interactiveData[currentIndex].text;
                interactiveImage.src = interactiveData[currentIndex].image;
            });

            messageDisplay.textContent = interactiveData[0].text;
            interactiveImage.src = interactiveData[0].image;

            Array.prototype.forEach.call(images, function (img) {
                img.addEventListener("click", function () {
                    alert("Lo siento mucho Dayan, por favor perdóname.");
                    var fullSrc = img.getAttribute("data-full") || img.src;
                    modalImg.src = fullSrc;
                    modal.style.display = "flex";
                });
            });

            closeModal.addEventListener("click", function () {
                modal.style.display = "none";
            });

            window.addEventListener("click", function (e) {
                if (e.target === modal) {
                    modal.style.display = "none";
                }
            });

            var items = ["\u{1F9CB}", "\u{1F368}"];
            var maxItems = 50;

            function spawnFallingItem() {
                var item = document.createElement("div");
                item.classList.add("falling-item");
                item.textContent = items[Math.floor(Math.random() * items.length)];
                var randomX = Math.floor(Math.random() * window.innerWidth);
                item.style.left = randomX + "px";
                var duration = Math.random() * 5 + 3;
                item.style.animationDuration = duration + "s";
                fallingItemsContainer.appendChild(item);
                item.addEventListener("animationend", function () {
                    fallingItemsContainer.removeChild(item);
                });
            }

            var count = 0;
            var spawnInterval = setInterval(function () {
                spawnFallingItem();
                count++;
                if (count >= maxItems) {
                    clearInterval(spawnInterval);
                }
            }, 300);
        });
    </script>
</body>
</html>
